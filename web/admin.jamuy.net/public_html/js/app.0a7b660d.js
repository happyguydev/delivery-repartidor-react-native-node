(function(e){function t(t){for(var o,c,i=t[0],d=t[1],s=t[2],l=0,b=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var d=n[c];0!==r[d]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function c(e){return i.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-008cd3d6":"3005bdb1","chunk-02c995b5":"fa6e2cf9","chunk-09155df3":"d36d2ee2","chunk-09162720":"76641c07","chunk-097e0872":"60b51ae3","chunk-0e93a01c":"07ea6d42","chunk-1dbc15a2":"b0f42ac1","chunk-1f3fa45a":"5984dc83","chunk-21a76241":"81e05e6d","chunk-25d83ca8":"11d75d2c","chunk-2d0a3ffc":"ae92ec73","chunk-2d0a463b":"01d977a4","chunk-2d0be2dc":"47fcbe53","chunk-2d0c073f":"51dd8b12","chunk-2d0d43da":"8588ac75","chunk-2d0d6f0e":"75ac8d11","chunk-2d0da04a":"219ce0c4","chunk-2d0e5812":"a4b8f3a4","chunk-2d20ef89":"d8d2d65e","chunk-2d213189":"4a1e81e6","chunk-2d218068":"b78d2933","chunk-2d21da73":"08cbbce9","chunk-30dd9750":"cfb0b2f6","chunk-34f7327c":"e2c5d5e5","chunk-37f2300e":"53406572","chunk-3ed29de3":"d139ee8e","chunk-41c0f7a4":"7cc0c87a","chunk-462c869e":"fcf44c39","chunk-504c4825":"0546e26d","chunk-541ea42d":"91486697","chunk-54bbd082":"96b284ec","chunk-59d4c87c":"1a275868","chunk-5a8ac886":"b93cf59b","chunk-5ff96a24":"cec90723","chunk-69eb8776":"8a325ef9","chunk-6d375f34":"2ac204ac","chunk-7548ca2d":"5a742f4a","chunk-79f1dac7":"5ca7503f","chunk-858cd918":"736290f5","chunk-8bb7f81e":"7cdbaf55","chunk-a9395c36":"663597ef","chunk-c53d26f0":"34a2d403","chunk-c567cc2a":"b3489079","chunk-d0e8aa0a":"ab28a97c","chunk-d8413eac":"3ea80a0d","chunk-eaa2b130":"63c2ebdf","chunk-f858ef4e":"10203b06","polyfills-core-js":"6d1a8426","polyfills-dom":"5c1a31ff","chunk-2d0b62ff":"8c63fa0c","chunk-2d0b33e3":"64be60e2","chunk-2d0bd1c8":"f49bd318","chunk-2d0c1ca1":"a8741f4e","chunk-2d0e19fd":"55dbdcb5","chunk-2d209619":"2be46e60","chunk-2d2376e6":"a351546d"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var a,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=c(e);var s=new Error;a=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:d})}),12e4);d.onerror=d.onload=a,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"8c28":function(e,t,n){},"9c9e":function(e,t,n){},aa55:function(e,t,n){var o={"./ion-action-sheet.entry.js":["6618","chunk-504c4825"],"./ion-alert.entry.js":["f06c","chunk-008cd3d6"],"./ion-app_8.entry.js":["c215","chunk-34f7327c"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3","chunk-5ff96a24"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-f858ef4e"],"./ion-nav_2.entry.js":["e44f","chunk-c53d26f0"],"./ion-popover.entry.js":["4285","chunk-1f3fa45a"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8","chunk-858cd918"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-c567cc2a"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id="aa55",e.exports=r},cd49:function(e,t,n){"use strict";n.r(t);n("45fc"),n("b0c0"),n("96cf");var o=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23"));function a(e,t,n,o,a,c){var i=Object(r["w"])("ion-router-outlet"),d=Object(r["w"])("ion-app");return Object(r["q"])(),Object(r["e"])(d,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i)]})),_:1})}var c=n("8a30"),i=Object(r["i"])({name:"App",components:{IonApp:c["a"],IonRouterOutlet:c["s"]}});i.render=a;var d=i,s=n("9f0e"),l=Object(r["g"])(" Jamuy "),u=Object(r["g"])("Registrarme"),b=Object(r["h"])("span",{class:"divider line one-line"},"o",-1),p=Object(r["h"])("span",{class:"already"},"¿Tienes una cuenta?",-1),h=Object(r["g"])("Iniciar sesión");function f(e,t,n,o,a,c){var i=Object(r["w"])("ion-title"),d=Object(r["w"])("ion-toolbar"),s=Object(r["w"])("ion-header"),f=Object(r["w"])("ion-button"),j=Object(r["w"])("ion-col"),O=Object(r["w"])("ion-row"),m=Object(r["w"])("ion-grid"),g=Object(r["w"])("ion-content"),y=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(y,null,{default:Object(r["E"])((function(){return[Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,null,{default:Object(r["E"])((function(){return[l]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(g,{class:"auth-form"},{default:Object(r["E"])((function(){return[Object(r["h"])(m,null,{default:Object(r["E"])((function(){return[Object(r["h"])(O,null,{default:Object(r["E"])((function(){return[Object(r["h"])(j,{"align-self-center":""},{default:Object(r["E"])((function(){return[Object(r["h"])(f,{onClick:t[1]||(t[1]=function(e){return c.irA("/registro")}),expand:"block",color:"primary"},{default:Object(r["E"])((function(){return[u]})),_:1}),b,p,Object(r["h"])(f,{onClick:c.openModal,expand:"block",color:"danger"},{default:Object(r["E"])((function(){return[h]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var j=Object(r["g"])("Cerrar"),O=Object(r["g"])("Email o celular"),m=Object(r["g"])("Contraseña"),g=Object(r["g"])("Ingresar");function y(e,t,n,o,a,c){var i=Object(r["w"])("ion-title"),d=Object(r["w"])("ion-button"),s=Object(r["w"])("ion-buttons"),l=Object(r["w"])("ion-toolbar"),u=Object(r["w"])("ion-header"),b=Object(r["w"])("ion-label"),p=Object(r["w"])("ion-input"),h=Object(r["w"])("ion-item"),f=Object(r["w"])("ion-list"),y=Object(r["w"])("ion-content"),v=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(v,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{translucent:""},{default:Object(r["E"])((function(){return[Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,null,{default:Object(r["E"])((function(){return[Object(r["g"])(Object(r["y"])(e.title),1)]})),_:1}),Object(r["h"])(s,{slot:"end"},{default:Object(r["E"])((function(){return[Object(r["h"])(d,{onClick:e.cerrarmodal},{default:Object(r["E"])((function(){return[j]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(y,null,{default:Object(r["E"])((function(){return[Object(r["h"])(f,null,{default:Object(r["E"])((function(){return[Object(r["h"])(h,null,{default:Object(r["E"])((function(){return[Object(r["h"])(b,{position:"stacked"},{default:Object(r["E"])((function(){return[O]})),_:1}),Object(r["h"])(p,{modelValue:e.form.usuario,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.usuario=t}),type:"text"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(h,null,{default:Object(r["E"])((function(){return[Object(r["h"])(b,{position:"stacked"},{default:Object(r["E"])((function(){return[m]})),_:1}),Object(r["h"])(p,{modelValue:e.form.clave,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.clave=t}),type:"password"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["h"])(d,{onClick:e.ingresar,color:"primary",expand:"block"},{default:Object(r["E"])((function(){return[g]})),_:1},8,["onClick"])]})),_:1})]})),_:1})}var v={data:function(){return{toast:null}},methods:{abrirNotificacion:function(e,t,n,r,a){var i=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,c["D"].create({header:e,message:t,position:n,duration:r,showCloseButton:!0,cssClass:a});case 2:return i.toast=o.sent,o.abrupt("return",i.toast.present());case 4:case"end":return o.stop()}}),o)})))()},cerrarNotificacion:function(){this.toast.dismiss()}}},w=Object(r["i"])({name:"login",mixins:[v],props:{title:{type:String,default:"Super Modal"},cerrar:{type:Function}},data:function(){return{content:"Content",form:{usuario:"",clave:""},loading:null}},methods:{abrirCargando:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,c["B"].create({spinner:"circles",duration:0,message:e,translucent:!0,cssClass:t,backdropDismiss:!1,mode:"ios",animated:!0,keyboardClose:!1});case 2:return n.loading=o.sent,o.next=5,n.loading.present();case 5:case"end":return o.stop()}}),o)})))()},cerrarCargando:function(){null!=this.loading&&this.loading.dismiss()},cerrarmodal:function(){this.cerrar()},ingresar:function(){var e=this;this.abrirCargando("Iniciando sesión","my-custom-loading"),this.$store.dispatch("retrieveToken",this.form).then((function(t){e.cerrarCargando(),e.cerrarmodal(),e.$router.push("/tabs/")})).catch((function(t){console.log("whats app:",t),e.cerrarCargando(),401==t.response.status&&e.abrirNotificacion("Error","Datos incorrectos.","top",1e3,"toast-login")}))}},components:{IonButton:c["d"],IonButtons:c["e"],IonToolbar:c["y"],IonList:c["p"],IonInput:c["m"],IonLabel:c["o"],IonItem:c["n"],IonPage:c["r"],IonHeader:c["k"],IonTitle:c["x"],IonContent:c["g"]}});w.render=y;var k=w,x={name:"inicio",components:{IonContent:c["g"],IonTitle:c["x"],IonToolbar:c["y"],IonHeader:c["k"],IonButton:c["d"],IonCol:c["f"],IonRow:c["t"],IonGrid:c["j"],IonPage:c["r"]},data:function(){return{modal:"",isOpen:!1}},methods:{createModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["C"].create({component:k,swipeToClose:!0,mode:"ios",backdropDismiss:!0,componentProps:{title:"Iniciar sesión",cerrar:function(){return e.closeModal()}}});case 2:e.modal=t.sent;case 3:case"end":return t.stop()}}),t)})))()},openModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createModal();case 2:e.isOpen=!0,e.modal.present();case 4:case"end":return t.stop()}}),t)})))()},closeModal:function(){var e=this;this.isOpen=!1,this.modal.dismiss().then((function(){e.modal=null}))},irA:function(e){this.$router.push(e)}}};x.render=f;var _=x,I=Object(r["g"])("Inicio"),E=Object(r["g"])("Repartidores"),C=Object(r["g"])("Pedidos"),R=Object(r["g"])("Finanzas"),S=Object(r["g"])("Tiendas");function P(e,t,n,o,a,c){var i=Object(r["w"])("ion-icon"),d=Object(r["w"])("ion-label"),s=Object(r["w"])("ion-tab-button"),l=Object(r["w"])("ion-badge"),u=Object(r["w"])("ion-tab-bar"),b=Object(r["w"])("ion-tabs"),p=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{slot:"bottom"},{default:Object(r["E"])((function(){return[Object(r["h"])(s,{tab:"inicio",href:"/tabs/inicio"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:o.home},null,8,["icon"]),Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[I]})),_:1})]})),_:1}),Object(r["h"])(s,{tab:"repartidores",href:"/tabs/repartidores"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:o.bicycle},null,8,["icon"]),Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[E]})),_:1}),Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["g"])(Object(r["y"])(c.repartidores.length),1)]})),_:1})]})),_:1}),Object(r["h"])(s,{tab:"pedidos",href:"/tabs/pedidos"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:o.bag},null,8,["icon"]),Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[C]})),_:1}),Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["g"])(Object(r["y"])(c.pedidosFinalizadosoRechazados.length),1)]})),_:1})]})),_:1}),Object(r["h"])(s,{tab:"finanzas",href:"/tabs/finanzas"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:o.cash},null,8,["icon"]),Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[R]})),_:1})]})),_:1}),Object(r["h"])(s,{tab:"tiendas",href:"/tabs/tiendas"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:o.storefront},null,8,["icon"]),Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[S]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}n("4de4");var q=n("ff79"),$={name:"inicio",components:{IonPage:c["r"],IonTabBar:c["u"],IonTabs:c["w"],IonTabButton:c["v"],IonBadge:c["c"],IonIcon:c["l"],IonLabel:c["o"]},setup:function(){return{bag:q["b"],storefront:q["i"],bicycle:q["c"],cash:q["e"],home:q["g"],calendar:q["d"],personCircle:q["h"]}},computed:{pedidosFinalizadosoRechazados:function(){return null!==this.pedidos?this.pedidos.filter((function(e){return"entregue el pedido"==e.estado||"rechazado"==e.estado})):[]},pedidos:{get:function(){return this.$store.state.pedidos}},repartidores:{get:function(){return this.$store.state.repartidores}}}};$.render=P;var T=$,z=Object(r["h"])("div",{class:"titulo-login"},"Ingresa a Jamuy con tu número de celular",-1),N=Object(r["g"])("Número de celular"),A=Object(r["g"])("Siguiente");function V(e,t,n,o,a,c){var i=Object(r["w"])("ion-label"),d=Object(r["w"])("ion-input"),s=Object(r["w"])("ion-item"),l=Object(r["w"])("ion-button"),u=Object(r["w"])("Navigacion"),b=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{titulo:a.titulo},{default:Object(r["E"])((function(){return[z,Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,{position:"stacked"},{default:Object(r["E"])((function(){return[N]})),_:1}),Object(r["h"])(d,{modelValue:a.numeroCelular,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.numeroCelular=e}),minlength:"7",type:"number",placeholder:"998553098"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(l,{onClick:c.obtenerSMS,color:"primary",expand:"block"},{default:Object(r["E"])((function(){return[A]})),_:1},8,["onClick"])]})),_:1},8,["titulo"])]})),_:1})}function B(e,t,n,o,a,c){var i=Object(r["w"])("ion-back-button"),d=Object(r["w"])("ion-buttons"),s=Object(r["w"])("ion-title"),l=Object(r["w"])("ion-toolbar"),u=Object(r["w"])("ion-header"),b=Object(r["w"])("ion-content"),p=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{translucent:""},{default:Object(r["E"])((function(){return[Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(d,{slot:"start"},{default:Object(r["E"])((function(){return[Object(r["h"])(i,{"default-href":"/"})]})),_:1}),Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[Object(r["g"])(Object(r["y"])(e.titulo),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(b,{fullscreen:!0,class:"ion-padding"},{default:Object(r["E"])((function(){return[Object(r["v"])(e.$slots,"default")]})),_:3})]})),_:1})}var U=Object(r["i"])({date:function(){return{enlaces:[]}},props:{titulo:{type:String}},components:{IonTitle:c["x"],IonHeader:c["k"],IonBackButton:c["b"],IonContent:c["g"],IonButtons:c["e"],IonToolbar:c["y"],IonPage:c["r"]}});U.render=B;var M=U,D={name:"registro",data:function(){return{titulo:"Registro",numeroCelular:null}},methods:{abrirnotificacion:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["D"].create({header:e,message:t,position:"top",duration:1500,showCloseButton:!0,cssClass:"toast-login"});case 2:return o=n.sent,n.abrupt("return",o.present());case 4:case"end":return n.stop()}}),n)})))()},obtenerSMS:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.get("https://app.jamuy.net/api/verificarnumero/"+e.numeroCelular).then((function(t){422==t.data.status?e.abrirnotificacion("Celular inválido","El número ingresado no es correcto."):201==t.data.status&&(e.abrirnotificacion("Mensaje enviado","Te hemos enviado un SMS de confirmación"),e.$router.push({name:"validarnumero",params:{numero:e.numeroCelular}}))})).catch((function(t){409==t.response.status&&e.abrirnotificacion("Celular ya registrado","El número ingresado ya se encuentra registrado."),console.log(t)}));case 1:case"end":return t.stop()}}),t)})))()}},components:{Navigacion:M,IonPage:c["r"],IonLabel:c["o"],IonInput:c["m"],IonButton:c["d"],IonItem:c["n"]}};D.render=V;var J=D,F=Object(r["h"])("div",{class:"titulo-login"},"Introduce tu código enviado al:",-1),L={class:"numero-por-validar"},H={class:"div-externo-validar-numero"},G={class:"div-interno-validar-numero"},K=Object(r["g"])("Siguiente");function W(e,t,n,o,a,c){var i=Object(r["w"])("ion-input"),d=Object(r["w"])("ion-button"),s=Object(r["w"])("Navigacion"),l=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(s,{titulo:a.titulo},{default:Object(r["E"])((function(){return[F,Object(r["h"])("div",L,Object(r["y"])(e.$route.params.numero),1),Object(r["h"])("div",H,[Object(r["h"])("div",G,[Object(r["h"])(i,{class:"input-particionado",modelValue:a.codigo,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.codigo=e}),maxlength:"4",onKeypress:t[2]||(t[2]=function(e){return c.isNumber(e)}),type:"text",placeholder:"1234"},null,8,["modelValue"])])]),Object(r["h"])(d,{disabled:4!=a.contar,onClick:c.validarCodigo,color:"primary",expand:"block"},{default:Object(r["E"])((function(){return[K]})),_:1},8,["disabled","onClick"])]})),_:1},8,["titulo"])]})),_:1})}var Y={name:"registro",data:function(){return{titulo:"Registro",numeroCelular:null,contar:0,codigo:""}},watch:{codigo:function(e){this.contar=e.length,4==this.contar&&this.validarCodigo()}},methods:{abrirnotificacion:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["D"].create({header:"Código incorrecto",message:"El código ingresado no es válido.",position:"top",duration:1500,showCloseButton:!0,cssClass:"toast-login"});case 2:return t=e.sent,e.abrupt("return",t.present());case 4:case"end":return e.stop()}}),e)})))()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},validarCodigo:function(){var e=this;this.$http.get("https://app.jamuy.net/api/validarnumero/"+this.$route.params.numero+"/"+this.codigo).then((function(t){null==t.data?e.abrirnotificacion():e.$router.push({name:"registrofinal",params:{numero:e.$route.params.numero}})})).catch((function(e){console.log(e)}))}},components:{Navigacion:M,IonPage:c["r"],IonInput:c["m"],IonButton:c["d"]}};Y.render=W;var Q=Y,X=Object(r["g"])(" Registrarme "),Z=Object(r["g"])("Nombres"),ee=Object(r["g"])("Apellidos"),te=Object(r["g"])("Email"),ne=Object(r["g"])("Contraseña"),oe=Object(r["g"])("Registrarme");function re(e,t,n,o,a,c){var i=Object(r["w"])("ion-title"),d=Object(r["w"])("ion-toolbar"),s=Object(r["w"])("ion-header"),l=Object(r["w"])("ion-label"),u=Object(r["w"])("ion-input"),b=Object(r["w"])("ion-item"),p=Object(r["w"])("ion-list"),h=Object(r["w"])("ion-button"),f=Object(r["w"])("ion-content"),j=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(j,null,{default:Object(r["E"])((function(){return[Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,null,{default:Object(r["E"])((function(){return[X]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(f,{class:"auth-form"},{default:Object(r["E"])((function(){return[Object(r["h"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,{position:"stacked"},{default:Object(r["E"])((function(){return[Z]})),_:1}),Object(r["h"])(u,{modelValue:a.form.nombres,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.nombres=e}),type:"text"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,{position:"stacked"},{default:Object(r["E"])((function(){return[ee]})),_:1}),Object(r["h"])(u,{modelValue:a.form.apellidos,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.apellidos=e}),type:"text"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,{position:"stacked"},{default:Object(r["E"])((function(){return[te]})),_:1}),Object(r["h"])(u,{modelValue:a.form.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.email=e}),type:"email"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,{position:"stacked"},{default:Object(r["E"])((function(){return[ne]})),_:1}),Object(r["h"])(u,{modelValue:a.form.clave,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.clave=e}),type:"password"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["h"])(h,{onClick:c.registrarme,color:"primary",expand:"block"},{default:Object(r["E"])((function(){return[oe]})),_:1},8,["onClick"])]})),_:1})]})),_:1})}var ae={name:"registro",data:function(){return{titulo:"Registro",contar:0,form:{nombres:"",apellidos:"",email:"",clave:"",movil:void 0===this.$route.params.numero?"":this.$route.params.numero,rol:"admin"}}},created:function(){console.log(this.$route.params.numero),console.log(this.$route.params)},methods:{abrirnotificacion:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["D"].create({header:e,message:t,position:"top",duration:1500,showCloseButton:!0,cssClass:"toast-login"});case 2:return o=n.sent,n.abrupt("return",o.present());case 4:case"end":return n.stop()}}),n)})))()},registrarme:function(){var e=this;""!=this.form.movil?this.$store.dispatch("registro",this.form).then((function(t){console.log(t),e.$router.push("/tabs/")})).catch((function(e){console.log(e)})):this.abrirnotificacion("Error","Hubo un error al registrar la cuenta.")}},components:{IonContent:c["g"],IonButton:c["d"],IonToolbar:c["y"],IonHeader:c["k"],IonTitle:c["x"],IonLabel:c["o"],IonInput:c["m"],IonItem:c["n"],IonPage:c["r"],IonList:c["p"]}};ae.render=re;var ce=ae,ie=(n("ac1f"),n("5319"),{class:"ion-page",id:"main-content"}),de=Object(r["g"])("Panel de administración"),se={class:"px-3 py-1"},le={key:0,class:"w-full sm:w-5/12 mx-auto"},ue={class:"block bg-blue-200 text-center font-semibold py-2 px-2 rounded-full mb-3"},be={key:1,class:"w-full sm:w-5/12 mx-auto"},pe={class:"block bg-orange-200 text-center font-semibold py-2 px-2 rounded-full mb-3"},he={key:2,class:"w-full sm:w-5/12 mx-auto"},fe=Object(r["h"])("span",{class:"block bg-red-200 text-center font-semibold py-2 px-2 rounded-full mb-3"},[Object(r["h"])("span",null,"Ya no estamos atendiendo")],-1),je={class:"w-full sm:w-5/12 mx-auto"},Oe={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},me=Object(r["h"])("span",null,"Nuevo pedido",-1),ge={key:0},ye={class:"mt-4"},ve={action:"#",style:{"margin-bottom":"6px"}},we={class:"mb-2"},ke={class:"mb-2"},xe={class:"mb-2"},_e={class:"mb-2"},Ie={class:"mb-2"},Ee=Object(r["h"])("span",null,"Añadir items",-1),Ce=Object(r["h"])("br",null,null,-1),Re=Object(r["h"])("hr",{class:"mb-3"},null,-1),Se={class:"mb-2"},Pe=Object(r["h"])("option",{value:"efectivo"},"Efectivo",-1),qe=Object(r["h"])("option",{value:"transferencia"},"Transferencia",-1),$e=Object(r["h"])("span",null,"Generar pedido",-1),Te={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},ze={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100",style:{overflow:"auto","white-space":"pre"}},Ne=Object(r["h"])("div",{class:"font-semibold text-lg mb-2"},"Pedidos en espera",-1),Ae={class:"w-full"},Ve=Object(r["h"])("thead",null,[Object(r["h"])("tr",{class:"font-bold"},[Object(r["h"])("td",{class:"py-3 border-b border-gray-400"}," Detalles "),Object(r["h"])("td",{class:"border-b border-gray-400"}," Pedido "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Delivery "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Ubicación ")])],-1),Be={class:"py-3 border-b border-gray-400"},Ue={class:"text-lg"},Me={class:"font-semibold inline-block",title:"98776534"},De={href:"#",target:"_blank"},Je=Object(r["h"])("br",null,null,-1),Fe={class:"text-sm text-gray-600"},Le=Object(r["h"])("br",null,null,-1),He=Object(r["h"])("span",null,null,-1),Ge=Object(r["h"])("br",null,null,-1),Ke={class:"border-b border-gray-400 leading-6"},We={class:"font-semibold border-b border-gray-800 border-dotted"},Ye={href:"javascript:void(0);"},Qe=Object(r["h"])("br",null,null,-1),Xe=Object(r["h"])("a",{href:"javascript:void(0);"},"Aceptar",-1),Ze=Object(r["h"])("br",null,null,-1),et=Object(r["h"])("a",{href:"javascript:void(0);"},"Rechazar",-1),tt=Object(r["h"])("br",null,null,-1),nt={class:"border-b border-gray-400 text-center"},ot={class:"font-semibold"},rt=Object(r["h"])("br",null,null,-1),at={class:"border-b border-gray-400 text-center mx-2 py-3 leading-5",style:{"max-width":"5rem"}},ct=Object(r["h"])("i",{class:"fas fa-map-marker-alt"},null,-1),it=Object(r["h"])("br",null,null,-1),dt=Object(r["h"])("span",null,"Abrir mapa",-1),st=Object(r["h"])("div",{class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},[Object(r["h"])("hr")],-1),lt={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100",style:{overflow:"auto","white-space":"pre"}},ut=Object(r["h"])("div",{class:"font-semibold text-lg mb-2"},"Pedidos en curso",-1),bt={class:"w-full"},pt=Object(r["h"])("thead",null,[Object(r["h"])("tr",{class:"font-bold"},[Object(r["h"])("td",{class:"py-3 border-b border-gray-400"}," Detalles "),Object(r["h"])("td",{class:"border-b border-gray-400"}," Pedido "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Delivery "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Ubicación ")])],-1),ht={class:"py-3 border-b border-gray-400"},ft={class:"text-lg"},jt={class:"font-semibold inline-block"},Ot={href:"#",target:"_blank",class:"border-b border-gray-800 border-dotted"},mt=Object(r["h"])("br",null,null,-1),gt={title:"98776534"},yt=Object(r["h"])("br",null,null,-1),vt={class:"text-gray-600"},wt={key:0},kt=Object(r["h"])("br",null,null,-1),xt={key:1},_t=Object(r["g"])("0️⃣0️⃣ Repartidor asignado"),It=Object(r["h"])("br",null,null,-1),Et={key:2},Ct=Object(r["g"])("1️⃣ Repartidor llegó a tienda"),Rt=Object(r["h"])("br",null,null,-1),St={key:3},Pt=Object(r["g"])("2️⃣ Repartidor en camino donde cliente"),qt=Object(r["h"])("br",null,null,-1),$t={key:4},Tt=Object(r["g"])("3️⃣ Repartidor llegó donde el cliente"),zt=Object(r["h"])("br",null,null,-1),Nt={key:5},At=Object(r["g"])("4️⃣ Repartidor ya entregó el pedido"),Vt=Object(r["h"])("br",null,null,-1),Bt={class:"border-b border-gray-400"},Ut={class:"font-semibold border-b border-gray-800 border-dotted"},Mt={href:"#"},Dt=Object(r["h"])("br",null,null,-1),Jt={class:"border-b border-gray-400 text-center"},Ft={class:"font-semibold"},Lt=Object(r["h"])("br",null,null,-1),Ht={class:"border-b border-gray-400 text-center mx-2 leading-5 py-3",style:{"max-width":"5rem"}},Gt=Object(r["h"])("i",{class:"fas fa-map-marker-alt"},null,-1),Kt=Object(r["h"])("br",null,null,-1),Wt=Object(r["h"])("span",null,"Mapa cliente",-1),Yt=Object(r["h"])("div",{class:"h-20"},null,-1);function Qt(e,t,n,o,a,c){var i=Object(r["w"])("ion-icon"),d=Object(r["w"])("ion-fab-button"),s=Object(r["w"])("ion-fab"),l=Object(r["w"])("ion-menu-button"),u=Object(r["w"])("ion-buttons"),b=Object(r["w"])("ion-title"),p=Object(r["w"])("ion-toolbar"),h=Object(r["w"])("ion-header"),f=Object(r["w"])("ion-label"),j=Object(r["w"])("ion-content"),O=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(O,null,{default:Object(r["E"])((function(){return[Object(r["h"])(s,{horizontal:"end",vertical:"bottom",slot:"fixed",onClick:t[1]||(t[1]=function(e){return a.nuevopedido=!a.nuevopedido})},{default:Object(r["E"])((function(){return[Object(r["h"])(d,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,{icon:a.nuevopedido?o.close:o.add},null,8,["icon"])]})),_:1})]})),_:1}),Object(r["h"])("div",ie,[Object(r["h"])(h,null,{default:Object(r["E"])((function(){return[Object(r["h"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{slot:"start"},{default:Object(r["E"])((function(){return[Object(r["h"])(l)]})),_:1}),Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[de]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(j,{class:"ion-padding"},{default:Object(r["E"])((function(){return[Object(r["h"])("section",se,["cantidad"==a.estadoRepartidores.general&&a.estadoRepartidores.disponibles.length>0?(Object(r["q"])(),Object(r["e"])("div",le,[Object(r["h"])("span",ue,[Object(r["h"])("span",null,Object(r["y"])(1==a.estadoRepartidores.disponibles.length?a.estadoRepartidores.disponibles.length+" repartidor activo":a.estadoRepartidores.disponibles.length+" repartidores activos"),1)])])):Object(r["f"])("",!0),"tiempo"==a.estadoRepartidores.general?(Object(r["q"])(),Object(r["e"])("div",be,[Object(r["h"])("span",pe,[Object(r["h"])("span",null,"Repartidor disponible en "+Object(r["y"])(a.estadoRepartidores.tiempo)+" min",1)])])):Object(r["f"])("",!0),"cantidad"==a.estadoRepartidores.general&&0==a.estadoRepartidores.disponibles.length?(Object(r["q"])(),Object(r["e"])("div",he,[fe])):Object(r["f"])("",!0),Object(r["h"])("div",je,[Object(r["h"])("div",Oe,[Object(r["h"])("a",{onClick:t[2]||(t[2]=function(e){return a.nuevopedido=!a.nuevopedido}),href:"javascript:void(0);",class:"block bg-gray-600 hover:bg-gray-700 text-white rounded-lg py-2 px-4 text-center font-semibold"},[me]),a.nuevopedido?(Object(r["q"])(),Object(r["e"])("span",ge,[Object(r["h"])("div",ye,[Object(r["h"])("form",ve,[Object(r["h"])("div",we,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.nombre_tienda=e}),type:"text",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Nombre de la tienda"},null,512),[[r["C"],a.form.nombre_tienda]])]),Object(r["h"])("div",ke,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.coordenadas_tienda=e}),type:"text",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Ubicación de la tienda (link maps)"},null,512),[[r["C"],a.form.coordenadas_tienda]])]),Object(r["h"])("div",xe,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.form.coordenadas_cliente=e}),type:"text",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Ubicación del cliente (link maps)"},null,512),[[r["C"],a.form.coordenadas_cliente]])]),Object(r["h"])("div",_e,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.form.montodelivery=e}),type:"text",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Precio de delivery (incluye propina)"},null,512),[[r["C"],a.form.montodelivery]])]),Object(r["h"])("div",Ie,[Object(r["F"])(Object(r["h"])("input",{type:"text",onKeyup:t[7]||(t[7]=Object(r["G"])((function(){return c.agregarItems&&c.agregarItems.apply(c,arguments)}),["enter"])),ref:"item","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.item=e}),class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Producto (cantidad y descripción)"},null,544),[[r["C"],a.item]])]),Object(r["h"])("a",{onClick:t[9]||(t[9]=function(){return c.agregarItems&&c.agregarItems.apply(c,arguments)}),href:"javascript:void(0);",class:"block bg-red-500 hover:bg-blue-600 text-white rounded-lg py-2 px-2 text-center font-semibold",style:{width:"50%","margin-bottom":"8px"}},[Ee]),(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(a.items,(function(e,t){return Object(r["q"])(),Object(r["e"])(f,{key:t},{default:Object(r["E"])((function(){return[Object(r["g"])(" - "+Object(r["y"])(e)+" ",1),Object(r["h"])("a",{href:"javascript:void(0);",onClick:function(e){return c.eliminarItem(t)}}," [X]",8,["onClick"]),Ce]})),_:2},1024)})),128)),Re,Object(r["h"])("div",Se,[Object(r["F"])(Object(r["h"])("textarea",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.form.referencia=e}),name:"",id:"",rows:"5",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500",placeholder:"Ingresa aquí alguna referencia"},null,512),[[r["C"],a.form.referencia]])]),Object(r["F"])(Object(r["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.form.tipopago=e}),id:"cars",class:"w-full border-2 rounded-lg py-1 px-2 outline-none border-gray-400 focus:border-gray-500"},[Pe,qe],512),[[r["B"],a.form.tipopago]])])]),Object(r["h"])("a",{onClick:t[12]||(t[12]=function(){return c.generarpedido&&c.generarpedido.apply(c,arguments)}),href:"javascript:void(0);",class:"block bg-blue-500 hover:bg-blue-600 text-white rounded-lg py-2 px-4 text-center font-semibold"},[$e])])):Object(r["f"])("",!0)]),Object(r["h"])("div",Te,[Object(r["h"])("div",null,[Object(r["F"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=function(e){return a.buscar=e}),placeholder:"Busca un pedido por id",class:"bg-gray-200 rounded-lg py-1 px-3 w-full outline-none font-semibold"},null,512),[[r["C"],a.buscar]])])]),Object(r["h"])("div",ze,[Ne,Object(r["h"])("table",Ae,[Ve,Object(r["h"])("tbody",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(c.pedidosEnEspera,(function(e,t){return Object(r["q"])(),Object(r["e"])("tr",{key:t},[Object(r["h"])("td",Be,[Object(r["h"])("div",Ue,[Object(r["h"])("h3",Me,[Object(r["h"])("a",De,Object(r["y"])(e.nombre_tienda),1)]),Je]),Object(r["h"])("div",Fe,[Object(r["h"])("span",null,Object(r["y"])(new Date(e.createdAt).toISOString().replace(/T/," ").replace(/\..+/,"")),1),Le,He,Ge])]),Object(r["h"])("td",Ke,[Object(r["h"])("span",We,[Object(r["h"])("a",Ye,"#"+Object(r["y"])(e.pedido_admin_id),1)]),Qe,Object(r["h"])("span",{onClick:function(t){return c.aceptarpedido(e._id)},class:"font-semibold border-b border-gray-800 border-dotted text-green-600"},[Xe],8,["onClick"]),Ze,Object(r["h"])("span",{onClick:function(t){return c.rechazarpedido(e._id)},class:"font-semibold border-b border-gray-800 border-dotted text-red-600"},[et],8,["onClick"]),tt]),Object(r["h"])("td",nt,[Object(r["h"])("span",ot,"S/ "+Object(r["y"])(e.monto_delivery),1),rt]),Object(r["h"])("td",at,[Object(r["h"])("a",{onClick:function(t){return c.abrirmapa(e.coordenadas_cliente)},href:"javascript:void(0);"},[ct,it,dt],8,["onClick"])])])})),128))])])]),st,Object(r["h"])("div",lt,[ut,Object(r["h"])("table",bt,[pt,Object(r["h"])("tbody",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(c.pedidosEnCurso,(function(e,t){return Object(r["q"])(),Object(r["e"])("tr",{key:t},[Object(r["h"])("td",ht,[Object(r["h"])("div",ft,[Object(r["h"])("h3",jt,[Object(r["h"])("a",Ot,Object(r["y"])(e.repartidor?e.repartidor.nombres+" "+e.repartidor.apellidos:"Buscando repartidor"),1)]),mt,Object(r["h"])("span",gt,Object(r["y"])(e.nombre_tienda),1),yt]),Object(r["h"])("div",vt,["en curso"==e.estado?(Object(r["q"])(),Object(r["e"])("span",wt,"0️⃣ Pedido confirmado")):Object(r["f"])("",!0),kt,"repartidor asignado"==e.estado?(Object(r["q"])(),Object(r["e"])("span",xt,[_t,It])):Object(r["f"])("",!0),"llegue a tienda"==e.estado?(Object(r["q"])(),Object(r["e"])("span",Et,[Ct,Rt])):Object(r["f"])("",!0),"tengo el pedido"==e.estado?(Object(r["q"])(),Object(r["e"])("span",St,[Pt,qt])):Object(r["f"])("",!0),"llegue al destino"==e.estado?(Object(r["q"])(),Object(r["e"])("span",$t,[Tt,zt])):Object(r["f"])("",!0),"entregue el pedido"==e.estado?(Object(r["q"])(),Object(r["e"])("span",Nt,[At,Vt])):Object(r["f"])("",!0)])]),Object(r["h"])("td",Bt,[Object(r["h"])("span",Ut,[Object(r["h"])("a",Mt,"#"+Object(r["y"])(e.pedido_admin_id),1)]),Dt]),Object(r["h"])("td",Jt,[Object(r["h"])("span",Ft,"S/"+Object(r["y"])(e.monto_delivery),1),Lt]),Object(r["h"])("td",Ht,[Object(r["h"])("a",{onClick:function(t){return c.abrirmapa(e.coordenadas_cliente)},href:"javascript:void(0);"},[Gt,Kt,Wt],8,["onClick"])])])})),128))])])])]),Yt])]})),_:1})])]})),_:1})}n("caad"),n("a434"),n("2532");var Xt=n("b85c"),Zt=Object(r["g"])("Cerrar"),en={class:"block mb-3 py-1 px-3 rounded-lg shadow border border-gray-100 bg-blue-500 text-white"},tn=Object(r["h"])("span",{class:"font-bold text-xl"},"¿Cuánto tiempo te tomará?",-1),nn=Object(r["h"])("br",null,null,-1),on={class:"text-center my-5"},rn=Object(r["h"])("i",{class:"fas fa-minus fa-2x"},null,-1),an={class:"font-bold text-4xl"},cn=Object(r["h"])("span",{class:"font-bold text-2xl"},"min",-1),dn=Object(r["h"])("i",{class:"fas fa-plus fa-2x"},null,-1),sn=Object(r["h"])("br",null,null,-1),ln={class:"cursor-pointer"},un=Object(r["h"])("span",null,"Guardar tiempo",-1),bn=Object(r["h"])("div",{class:"mb-3 leading-4"},[Object(r["h"])("span",{class:"text-xs"},"Se le asignará su repartidor faltando 5min o 10min de su tiempo de preparación."),Object(r["h"])("br")],-1),pn=Object(r["g"])("Aceptar pedido");function hn(e,t,n,o,a,c){var i=Object(r["w"])("ion-title"),d=Object(r["w"])("ion-button"),s=Object(r["w"])("ion-buttons"),l=Object(r["w"])("ion-toolbar"),u=Object(r["w"])("ion-header"),b=Object(r["w"])("ion-content"),p=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,{translucent:""},{default:Object(r["E"])((function(){return[Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(i,null,{default:Object(r["E"])((function(){return[Object(r["g"])(Object(r["y"])(e.title),1)]})),_:1}),Object(r["h"])(s,{slot:"end"},{default:Object(r["E"])((function(){return[Object(r["h"])(d,{onClick:e.cerrarmodal},{default:Object(r["E"])((function(){return[Zt]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])("div",en,[tn,nn,Object(r["h"])("div",on,[Object(r["h"])("a",{onClick:t[1]||(t[1]=function(t){return e.tiempodemora=parseInt(e.tiempodemora)-5}),href:"javascript:void(0);",class:"inline-block text-red-600 mr-5"},[rn]),Object(r["h"])("span",an,Object(r["y"])(e.tiempodemora),1),cn,Object(r["h"])("a",{onClick:t[2]||(t[2]=function(t){return e.tiempodemora=parseInt(e.tiempodemora)+5}),href:"javascript:void(0);",class:"inline-block text-blue-700 ml-5"},[dn]),sn,Object(r["h"])("label",ln,[Object(r["F"])(Object(r["h"])("input",{type:"checkbox",onChange:t[3]||(t[3]=function(t){return e.guardar(t)}),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.opcion=t}),class:"mr-2"},null,544),[[r["A"],e.opcion]]),un])]),bn]),Object(r["h"])(d,{onClick:t[5]||(t[5]=function(t){return e.aceptarpedido()}),color:"primary",expand:"block"},{default:Object(r["E"])((function(){return[pn]})),_:1})]})),_:1})]})),_:1})}var fn={data:function(){return{loading:null}},methods:{abrirCargando:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,c["B"].create({spinner:"circles",duration:0,message:e,translucent:!0,cssClass:t,backdropDismiss:!1,mode:"ios",animated:!0,keyboardClose:!1});case 2:return n.loading=o.sent,o.next=5,n.loading.present();case 5:case"end":return o.stop()}}),o)})))()},cerrarCargando:function(){this.loading.dismiss()}}},jn=Object(r["i"])({name:"tiempo-demora",mixins:[fn],props:{title:{type:String,default:"Super Modal"},id:{type:String},cerrar:{type:Function}},data:function(){return{content:"Content",opcion:!1,tiempodemora:10,estadopedido:0}},created:function(){this.tiempodemora=this.tiempo},computed:{tiempo:{get:function(){return this.$store.state.tiempo},set:function(e){this.$store.commit("settiempo",e)}},pedidos:{get:function(){return this.$store.state.pedidos},set:function(e){1==this.estadoPedido?this.$store.commit("setnuevopedido",e):2==this.estadoPedido?this.$store.commit("setpedidoaceptado",e):3==this.estadoPedido?this.$store.commit("setpedidorechazado",e):0==this.estadoPedido?this.$store.commit("setpedidos",e):4==this.estadoPedido?this.$store.commit("setpedidorepartidor",e):5==this.estadoPedido&&this.$store.commit("setactualizacionpedido",e)}}},methods:{cerrarmodal:function(){this.cerrar()},guardar:function(e){e.target.value&&(this.tiempo=this.tiempodemora)},aceptarpedido:function(){var e=this;this.abrirCargando("Aceptando pedido...","my-custom-loading"),this.$http.post("https://app.jamuy.net/api/aceptar-pedido",{id:this.id,tiempodemora:this.tiempodemora}).then((function(t){e.estadoPedido=2,e.pedidos=t.data.detalles,e.cerrarCargando(),e.cerrarmodal()})).catch((function(t){e.cerrarCargando(),e.cerrarmodal()}))}},components:{IonButton:c["d"],IonButtons:c["e"],IonToolbar:c["y"],IonPage:c["r"],IonHeader:c["k"],IonTitle:c["x"],IonContent:c["g"]}});jn.render=hn;var On=jn,mn={name:"TabInicio",mixins:[v],components:{IonFab:c["h"],IonFabButton:c["i"],IonPage:c["r"],IonContent:c["g"],IonMenuButton:c["q"],IonButtons:c["e"],IonTitle:c["x"],IonToolbar:c["y"],IonHeader:c["k"]},setup:function(){return{add:q["a"],close:q["f"]}},data:function(){return{loading:null,buscar:"",modal:"",isOpen:!1,nuevopedido:!1,form:{estado:"en espera",tipopago:"efectivo"},estadoPedido:0,tipo:0,estadoRepartidores:{},items:[],item:""}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.abrirCargando("Cargando...","my-custom-loading"),e.fcm.getToken({vapidKey:"BMvK2Y2H_W_Xx_-m_ZQ8UQBb4YikCxU--h17guryPJTJRZf4Hp9lyes-pGmJ6oJYJg8-WzVyy168eY_3xwAa2-c"}).then((function(t){t?(console.log(t),e.$http.post("https://app.jamuy.net/api/registrar-token-admin",{token:t}).then((function(t){console.log(t),e.cerrarCargando()})).catch((function(t){console.log(t),e.cerrarCargando()}))):console.log("No registration token available. Request permission to generate one.")})).catch((function(e){console.log("An error occurred while retrieving token. ",e)})),e.$http.get("https://app.jamuy.net/api/lista-repartidores-disponibles").then((function(t){e.tipo=0,e.repartidores=t.data.detalles})).catch((function(e){console.log(e)})),e.estadoRepartidoresAvisos();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.fcm.onTokenRefresh((function(t){console.log("REFRESH:",t),e.$http.post("https://app.jamuy.net/api/registrar-token-admin",{token:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})),navigator.serviceWorker.addEventListener("message",(function(t){console.log("RECIBIDO DEL SERVICE WORKER ",t.data);var n=JSON.parse(t.data.data.detalles);"1"==t.data.data.valor?(e.tipo=1,e.repartidores=n):"-1"==t.data.data.valor?(e.tipo=2,e.repartidores=n):"10"==t.data.data.valor?(e.estadoPedido=1,e.pedidos=n):"11"==t.data.data.valor?(e.estadoPedido=2,e.pedidos=n):"12"==t.data.data.valor||"0"==t.data.data.valor?(e.estadoPedido=3,e.pedidos=n):"4"==t.data.data.valor?(e.estadoPedido=4,e.pedidos=n):"5"==t.data.data.valor?(e.estadoPedido=5,e.pedidos=n):"6"==t.data.data.valor&&(e.tipo=3,e.repartidores=n)}))},computed:{pedidos:{get:function(){return this.$store.state.pedidos},set:function(e){1==this.estadoPedido?this.$store.commit("setnuevopedido",e):2==this.estadoPedido?this.$store.commit("setpedidoaceptado",e):3==this.estadoPedido?this.$store.commit("setpedidorechazado",e):0==this.estadoPedido?this.$store.commit("setpedidos",e):4==this.estadoPedido?this.$store.commit("setpedidorepartidor",e):5==this.estadoPedido&&this.$store.commit("setactualizacionpedido",e)}},repartidores:{get:function(){return this.$store.state.repartidores},set:function(e){0==this.tipo?this.$store.commit("setlistarepartidorest",e):1==this.tipo?this.$store.commit("setlistarepartidores",e):3==this.tipo?this.$store.commit("setlistarepartidoresu",e):this.$store.commit("setlistarepartidoresd",e),this.tipo=0,this.estadoRepartidoresAvisos()}},pedidosEnEspera:function(){var e=this.buscar;return this.pedidos.filter((function(t){return"en espera"==t.estado&&t.pedido_admin_id.includes(e)}))},pedidosEnCurso:function(){var e=this.buscar;return this.pedidos.filter((function(t){return"en espera"!==t.estado&&"rechazado"!==t.estado&&"entregue el pedido"!==t.estado&&t.pedido_admin_id.includes(e)}))}},methods:{abrirCargando:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,c["B"].create({spinner:"circles",duration:0,message:e,translucent:!0,cssClass:t,backdropDismiss:!1,mode:"ios",animated:!0,keyboardClose:!1});case 2:return n.loading=o.sent,o.next=5,n.loading.present();case 5:case"end":return o.stop()}}),o)})))()},cerrarCargando:function(){null!=this.loading&&this.loading.dismiss()},createModal:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["C"].create({component:On,swipeToClose:!0,mode:"ios",cssClass:"modal-tiempo-demora",backdropDismiss:!0,componentProps:{title:"Tiempo de demora",id:e,cerrar:function(){return t.closeModal()}}});case 2:t.modal=n.sent;case 3:case"end":return n.stop()}}),n)})))()},openModal:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.createModal(e);case 2:t.isOpen=!0,t.modal.present();case 4:case"end":return n.stop()}}),n)})))()},closeModal:function(){var e=this;this.isOpen=!1,this.modal.dismiss().then((function(){e.modal=null}))},abrirmapa:function(e){window.open(e)},agregarItems:function(){this.items.push(this.item),this.item="",this.$refs.item.focus()},eliminarItem:function(e){this.items.splice(e,1)},estadoRepartidoresAvisos:function(){if(this.estadoRepartidores.disponibles=this.repartidores.filter((function(e){return 0==e.cola.length})),this.estadoRepartidores.activos=this.repartidores.length,0==this.estadoRepartidores.disponibles.length&&this.estadoRepartidores.activos>0){this.estadoRepartidores.general="tiempo",this.estadoRepartidores.tiempo=0;var e,t=Object(Xt["a"])(this.repartidores["0"].cola);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(1==this.repartidores["0"].cola.length)this.estadoRepartidores.tiempo=n.tiempo;else{var o=25*this.repartidores["0"].cola.length;this.estadoRepartidores.tiempo=n.tiempo+this.estadoRepartidores.tiempo+o}}}catch(r){t.e(r)}finally{t.f()}}else this.estadoRepartidores.general="cantidad"},generarpedido:function(){var e=this;this.abrirCargando("Generando nuevo pedido","my-custom-loading"),this.form.items=this.items,this.$http.post("https://app.jamuy.net/api/registrar-pedido",this.form).then((function(t){e.cerrarCargando(),e.nuevopedido=!1,e.form={estado:"en espera",tipopago:"efectivo"},e.items=[]})).catch((function(t){e.cerrarCargando(),422==t.response.status&&e.abrirNotificacion("Error",t.response.data.error,"middle",1e3,"toast-login")}))},aceptarpedido:function(e){this.openModal(e)},rechazarpedido:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["A"].create({cssClass:"mi-alerta",header:"¿Seguro de rechazar el pedido?",message:"Si oprimes aceptar, el pedido no se procesará.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Sí",handler:function(){t.abrirCargando("Rechazando pedido...","my-custom-loading"),t.$http.post("https://app.jamuy.net/api/rechazar-pedido",{id:e}).then((function(e){t.estadoPedido=3,t.pedidos=e.data.detalles,t.cerrarCargando()})).catch((function(e){null!=t.loading&&t.cerrarCargando()}))}}]});case 2:return o=n.sent,n.abrupt("return",o.present());case 4:case"end":return n.stop()}}),n)})))()}}};mn.render=Qt;var gn=mn,yn=Object(r["g"])("Repartidores"),vn={class:"px-3 py-1"},wn={class:"w-full sm:w-5/12 mx-auto"},kn={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},xn={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},_n={class:"w-full"},In=Object(r["h"])("thead",null,[Object(r["h"])("tr",{class:"font-bold"},[Object(r["h"])("td",{class:"py-3 border-b border-gray-400"}," Nombre "),Object(r["h"])("td",{class:"border-b border-gray-400"}," Id "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Inició "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," U. conexión ")])],-1),En={class:"py-3 border-b border-gray-400"},Cn={class:"font-semibold inline-block",title:"98776534"},Rn={href:"javascript:void(0);",target:"_blank",class:" border-b border-gray-800 border-dotted"},Sn=Object(r["h"])("br",null,null,-1),Pn={class:"text-sm text-gray-600"},qn={key:0},$n=Object(r["h"])("br",null,null,-1),Tn={key:1},zn=Object(r["h"])("br",null,null,-1),Nn={class:"border-b border-gray-400 leading-6"},An={class:"font-semibold"},Vn=Object(r["h"])("br",null,null,-1),Bn=Object(r["h"])("a",{href:"javascript:void(0);"},"Desconectar",-1),Un=Object(r["h"])("br",null,null,-1),Mn={class:"border-b border-gray-400 text-center"},Dn={class:"text-sm text-gray-600"},Jn=Object(r["h"])("br",null,null,-1),Fn={class:"border-b border-gray-400 text-center"},Ln={class:"text-sm text-gray-600"},Hn=Object(r["h"])("br",null,null,-1),Gn=Object(r["h"])("div",{class:"h-20"},null,-1);function Kn(e,t,n,o,a,c){var i=Object(r["w"])("ion-menu-button"),d=Object(r["w"])("ion-buttons"),s=Object(r["w"])("ion-title"),l=Object(r["w"])("ion-toolbar"),u=Object(r["w"])("ion-header"),b=Object(r["w"])("ion-content"),p=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(d,{slot:"start"},{default:Object(r["E"])((function(){return[Object(r["h"])(i)]})),_:1}),Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[yn]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(b,{class:"ion-padding"},{default:Object(r["E"])((function(){return[Object(r["h"])("section",vn,[Object(r["h"])("div",wn,[Object(r["h"])("div",kn,[Object(r["h"])("div",null,[Object(r["F"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.buscar=e}),placeholder:"Busca repartidor",class:"bg-gray-200 rounded-lg py-1 px-3 w-full outline-none font-semibold"},null,512),[[r["C"],a.buscar]])])]),Object(r["h"])("div",xn,[Object(r["h"])("table",_n,[In,Object(r["h"])("tbody",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(c.repa,(function(e,t){return Object(r["q"])(),Object(r["e"])("tr",{key:t},[Object(r["h"])("td",En,[Object(r["h"])("div",null,[Object(r["h"])("h3",Cn,[Object(r["h"])("a",Rn,Object(r["y"])(e.id.nombres+" "+e.id.apellidos),1)]),Sn]),Object(r["h"])("div",Pn,[e.id.documentoidentidad?(Object(r["q"])(),Object(r["e"])("span",qn,"DNI: "+Object(r["y"])(e.id.documentoidentidad),1)):Object(r["f"])("",!0),$n,e.id.movil?(Object(r["q"])(),Object(r["e"])("span",Tn,"CEL: "+Object(r["y"])(e.id.movil),1)):Object(r["f"])("",!0),zn])]),Object(r["h"])("td",Nn,[Object(r["h"])("span",An,"#"+Object(r["y"])(e.id.usuario_id),1),Vn,Object(r["h"])("span",{onClick:function(t){return c.cambiarEstado(!1,e)},class:"font-semibold border-b border-gray-800 border-dotted text-red-600"},[Bn],8,["onClick"]),Un]),Object(r["h"])("td",Mn,[Object(r["h"])("div",Dn,[Object(r["h"])("span",null,Object(r["y"])(new Date(e.id.createdAt).toISOString().replace(/T/," ").replace(/\..+/,"")),1),Jn])]),Object(r["h"])("td",Fn,[Object(r["h"])("div",Ln,[Object(r["h"])("span",null,Object(r["y"])(new Date(e.createdAt).toISOString().replace(/T/," ").replace(/\..+/,"")),1),Hn])])])})),128))])])])]),Gn])]})),_:1})]})),_:1})}var Wn={name:"tab-repartidores",components:{IonPage:c["r"],IonContent:c["g"],IonHeader:c["k"],IonToolbar:c["y"],IonButtons:c["e"],IonMenuButton:c["q"],IonTitle:c["x"]},data:function(){return{tipo:0,buscar:""}},created:function(){},methods:{cambiarEstado:function(e,t){this.$http.post("https://app.jamuy.net/api/cambiar-estado-repartidor-admin",{estado:e,socketid:t.socket_id}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},computed:{repa:function(){var e=this.buscar;return this.repartidores.filter((function(t){return t&&t.id.usuario_id.includes(e)}))},repartidores:{get:function(){return this.$store.state.repartidores},set:function(e){0==this.tipo?this.$store.commit("setlistarepartidorest",e):1==this.tipo?this.$store.commit("setlistarepartidores",e):this.$store.commit("setlistarepartidoresd",e),this.tipo=0}}}};Wn.render=Kn;var Yn=Wn,Qn=Object(r["g"])("Pedidos"),Xn={class:"px-3 py-1"},Zn={class:"w-full sm:w-5/12 mx-auto"},eo={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},to={class:"block mb-3 py-2 px-3 rounded-lg shadow border border-gray-100"},no=Object(r["h"])("div",{class:"font-semibold text-lg mb-2"},"Pedidos",-1),oo={class:"w-full"},ro=Object(r["h"])("thead",null,[Object(r["h"])("tr",{class:"font-bold"},[Object(r["h"])("td",{class:"py-3 border-b border-gray-400"}," Detalles "),Object(r["h"])("td",{class:"border-b border-gray-400"}," Pedido "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Delivery "),Object(r["h"])("td",{class:"border-b border-gray-400 text-center"}," Ubicación ")])],-1),ao={class:"py-3 border-b border-gray-400"},co={class:"text-lg"},io={class:"font-semibold inline-block"},so={href:"#",target:"_blank",class:"border-b border-gray-800 border-dotted"},lo=Object(r["h"])("br",null,null,-1),uo={title:"98776534"},bo=Object(r["h"])("br",null,null,-1),po={class:"text-gray-600"},ho={key:0},fo=Object(r["h"])("br",null,null,-1),jo={key:1},Oo=Object(r["h"])("br",null,null,-1),mo={key:2},go=Object(r["g"])("0️⃣0️⃣ Repartidor asignado"),yo=Object(r["h"])("br",null,null,-1),vo={key:3},wo=Object(r["g"])("1️⃣ Repartidor llegó a tienda"),ko=Object(r["h"])("br",null,null,-1),xo={key:4},_o=Object(r["g"])("2️⃣ Repartidor en camino donde cliente"),Io=Object(r["h"])("br",null,null,-1),Eo={key:5},Co=Object(r["g"])("3️⃣ Repartidor llegó donde el cliente"),Ro=Object(r["h"])("br",null,null,-1),So={key:6},Po=Object(r["g"])("4️⃣ Repartidor ya entregó el pedido"),qo=Object(r["h"])("br",null,null,-1),$o={class:"border-b border-gray-400 leading-6"},To={class:"font-semibold border-b border-gray-800 border-dotted"},zo={href:"#"},No=Object(r["h"])("br",null,null,-1),Ao={key:0,class:"font-semibold text-green-600"},Vo=Object(r["h"])("br",null,null,-1),Bo={key:1,class:"font-semibold text-red-600",title:"Motivo de rechazo"},Uo=Object(r["h"])("br",null,null,-1),Mo={class:"border-b border-gray-400 text-center"},Do={class:"font-semibold"},Jo=Object(r["h"])("br",null,null,-1),Fo=Object(r["h"])("td",{class:"border-b border-gray-400 text-center mx-2 leading-5 py-3",style:{"max-width":"5rem"}},[Object(r["h"])("a",{href:"javascript:void(0);",target:"_blank"},[Object(r["h"])("i",{class:"fas fa-map-marker-alt"}),Object(r["h"])("br"),Object(r["h"])("span",null,"Google maps cliente")])],-1),Lo=Object(r["h"])("div",{class:"h-20"},null,-1);function Ho(e,t,n,o,a,c){var i=Object(r["w"])("ion-menu-button"),d=Object(r["w"])("ion-buttons"),s=Object(r["w"])("ion-title"),l=Object(r["w"])("ion-toolbar"),u=Object(r["w"])("ion-header"),b=Object(r["w"])("ion-content"),p=Object(r["w"])("ion-page");return Object(r["q"])(),Object(r["e"])(p,null,{default:Object(r["E"])((function(){return[Object(r["h"])(u,null,{default:Object(r["E"])((function(){return[Object(r["h"])(l,null,{default:Object(r["E"])((function(){return[Object(r["h"])(d,{slot:"start"},{default:Object(r["E"])((function(){return[Object(r["h"])(i)]})),_:1}),Object(r["h"])(s,null,{default:Object(r["E"])((function(){return[Qn]})),_:1})]})),_:1})]})),_:1}),Object(r["h"])(b,{class:"ion-padding"},{default:Object(r["E"])((function(){return[Object(r["h"])("section",Xn,[Object(r["h"])("div",Zn,[Object(r["h"])("div",eo,[Object(r["h"])("div",null,[Object(r["F"])(Object(r["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.buscar=e}),placeholder:"Busca un pedido",class:"bg-gray-200 rounded-lg py-1 px-3 w-full outline-none font-semibold"},null,512),[[r["C"],a.buscar]])])]),Object(r["h"])("div",to,[no,Object(r["h"])("table",oo,[ro,Object(r["h"])("tbody",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(c.pedidosFinalizadosoRechazados,(function(e,t){return Object(r["q"])(),Object(r["e"])("tr",{key:t},[Object(r["h"])("td",ao,[Object(r["h"])("div",co,[Object(r["h"])("h3",io,[Object(r["h"])("a",so,Object(r["y"])(e.repartidor?e.repartidor.nombres+" "+e.repartidor.apellidos:"Sin repartidor asignado"),1)]),lo,Object(r["h"])("span",uo,Object(r["y"])(e.nombre_tienda),1),bo]),Object(r["h"])("div",po,["en curso"==e.estado?(Object(r["q"])(),Object(r["e"])("span",ho,"0️⃣ Pedido confirmado")):Object(r["f"])("",!0),fo,"rechazado"==e.estado?(Object(r["q"])(),Object(r["e"])("span",jo,"0️⃣ Pedido cancelado")):Object(r["f"])("",!0),Oo,"repartidor asignado"==e.estado?(Object(r["q"])(),Object(r["e"])("span",mo,[go,yo])):Object(r["f"])("",!0),"llegue a tienda"==e.estado?(Object(r["q"])(),Object(r["e"])("span",vo,[wo,ko])):Object(r["f"])("",!0),"tengo el pedido"==e.estado?(Object(r["q"])(),Object(r["e"])("span",xo,[_o,Io])):Object(r["f"])("",!0),"llegue al destino"==e.estado?(Object(r["q"])(),Object(r["e"])("span",Eo,[Co,Ro])):Object(r["f"])("",!0),"entregue el pedido"==e.estado?(Object(r["q"])(),Object(r["e"])("span",So,[Po,qo])):Object(r["f"])("",!0)])]),Object(r["h"])("td",$o,[Object(r["h"])("span",To,[Object(r["h"])("a",zo,"#"+Object(r["y"])(e.pedido_admin_id),1)]),No,"finalizado"==e.estado||"entregue el pedido"==e.estado?(Object(r["q"])(),Object(r["e"])("span",Ao,"Exitoso")):Object(r["f"])("",!0),Vo,"rechazado"==e.estado?(Object(r["q"])(),Object(r["e"])("span",Bo,"Rechazado")):Object(r["f"])("",!0),Uo]),Object(r["h"])("td",Mo,[Object(r["h"])("span",Do,"S/"+Object(r["y"])(e.monto_delivery),1),Jo]),Fo])})),128))])])])]),Lo])]})),_:1})]})),_:1})}var Go={name:"tab-pedidos",components:{IonPage:c["r"],IonContent:c["g"],IonHeader:c["k"],IonToolbar:c["y"],IonButtons:c["e"],IonMenuButton:c["q"],IonTitle:c["x"]},data:function(){return{tipo:0,buscar:""}},methods:{},computed:{pedidosFinalizadosoRechazados:function(){var e=this.buscar;return null!==this.pedidos?this.pedidos.filter((function(t){return("entregue el pedido"==t.estado||"rechazado"==t.estado)&&t.pedido_admin_id.includes(e)})):[]},pedidos:{get:function(){return this.$store.state.pedidos}}}};Go.render=Ho;var Ko=Go,Wo=[{path:"/",redirect:"/inicio"},{path:"/inicio",component:_,meta:{requiereAuth:!1}},{path:"/login",name:"login",component:k,meta:{requiereAuth:!1}},{path:"/registro",name:"registro",component:J,meta:{requiereAuth:!1}},{path:"/validarnumero",name:"validarnumero",component:Q,props:!0,meta:{requiereAuth:!1}},{path:"/registrofinal",name:"registrofinal",component:ce,props:!0,meta:{requiereAuth:!1}},{path:"/tabs/",name:"inicio-admin",props:!0,component:T,meta:{requiereAuth:!0},children:[{path:"",redirect:"/tabs/inicio"},{path:"inicio",name:"tab-inicio",props:!0,component:gn,meta:{requiereAuth:!0}},{path:"repartidores",name:"tab-repartidores",props:!0,component:Yn,meta:{requiereAuth:!0}},{path:"pedidos",name:"tab-pedidos",props:!0,component:Ko,meta:{requiereAuth:!0}}]}],Yo=Object(s["a"])({history:Object(s["b"])("/"),routes:Wo}),Qo=Yo,Xo=(n("9c9e"),n("95ad"),n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("bc3a")),Zo=n.n(Xo),er=n("2106"),tr=n.n(er),nr=(n("7db0"),n("c740"),n("d3b7"),n("5502")),or=window.localStorage.getItem("repartidores"),rr=window.localStorage.getItem("pedidos"),ar=window.localStorage.getItem("pedidosadmin"),cr=window.localStorage.getItem("tiempo"),ir=window.localStorage.getItem("token"),dr=Object(nr["a"])({state:{token:ir,pedidos:rr?JSON.parse(rr):[],tiempo:cr||10,pedidosadmin:ar?JSON.parse(ar):[],repartidores:or?JSON.parse(or):[]},getters:{loggedIn:function(e){return null!==e.token},Whattoken:function(e){return e.token}},mutations:{settiempo:function(e,t){e.tiempo=t,window.localStorage.setItem("tiempo",JSON.stringify(e.tiempo))},setlistarepartidores:function(e,t){e.repartidores.push(t),window.localStorage.setItem("repartidores",JSON.stringify(e.repartidores))},setlistarepartidorest:function(e,t){e.repartidores=t,window.localStorage.setItem("repartidores",JSON.stringify(e.repartidores))},setlistarepartidoresd:function(e,t){var n=e.repartidores.findIndex((function(e){return e.id==t.id}));e.repartidores.splice(n,1),window.localStorage.setItem("repartidores",JSON.stringify(e.repartidores))},setlistarepartidoresu:function(e,t){var n=e.repartidores.find((function(e){return e._id==t._id}));n&&(n.cola=t.cola),window.localStorage.setItem("repartidores",JSON.stringify(e.repartidores))},setlistatotalpedidosadmin:function(e,t){e.pedidosadmin=t,window.localStorage.setItem("pedidosadmin",JSON.stringify(e.pedidosadmin))},setnuevopedidoaceptadoadmin:function(e,t){e.pedidosadmin.push(t),window.localStorage.setItem("pedidosadmin",JSON.stringify(e.pedidosadmin))},setnuedopedidorechazadoadmin:function(e,t){e.pedidosadmin.push(t),window.localStorage.setItem("pedidosadmin",JSON.stringify(e.pedidosadmin))},setactualizacionpedidoadmin:function(e,t){var n=e.pedidosadmin.find((function(e){return e._id==t._id}));n&&(n.estado=t.estado),window.localStorage.setItem("pedidosadmin",JSON.stringify(e.pedidosadmin))},setpedidos:function(e,t){e.pedidos=t,window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},setnuevopedido:function(e,t){e.pedidos.push(t),window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},setpedidorechazado:function(e,t){var n=e.pedidos.find((function(e){return e._id==t._id}));n&&(n.estado="rechazado"),window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},setpedidoaceptado:function(e,t){console.log(e.pedidos),console.log(t);var n=e.pedidos.find((function(e){return e._id==t._id}));n&&(n.estado="en curso"),window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},setpedidorepartidor:function(e,t){console.log(t);var n=e.pedidos.find((function(e){return e._id==t._id}));n&&(n.repartidor=t.repartidor,n.estado="repartidor asignado"),window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},setactualizacionpedido:function(e,t){var n=e.pedidos.find((function(e){return e._id==t._id}));n&&(n.estado=t.estado),window.localStorage.setItem("pedidos",JSON.stringify(e.pedidos))},retrieveToken:function(e,t){e.token=t},destroyToken:function(e){e.token=null}},actions:{retrieveToken:function(e,t){return new Promise((function(n,o){window.axios.post("https://app.jamuy.net/api/auth/ingresar",t).then((function(t){var o=t.data.token;localStorage.setItem("token",o),e.commit("retrieveToken",o),window.axios.defaults.headers.common["Authorization"]=e.state.token,n(t)})).catch((function(e){o(e)}))}))},registro:function(e,t){return new Promise((function(n,o){window.axios.post("https://app.jamuy.net/api/auth/registro",t).then((function(t){var o=t.data.token;window.localStorage.setItem("token",o),e.commit("retrieveToken",o),window.axios.defaults.headers.common["Authorization"]=e.state.token,n(t)})).catch((function(e){o(e)}))}))},destroyToken:function(e){if(e.getters.loggedIn)return new Promise((function(t,n){window.axios.post("https://app.jamuy.net/api/auth/salir","",{headers:{Authorization:"Bearer "+e.state.token}}).then((function(n){localStorage.removeItem("token"),e.commit("destroyToken"),t(n)})).catch((function(t){localStorage.removeItem("token"),e.commit("destroyToken"),n(t)}))}))}}}),sr=n("2591"),lr=(n("8c28"),Object(r["d"])(d).use(c["z"]).use(tr.a,Zo.a).use(dr).use(Qo)),ur={apiKey:"AIzaSyAfG2jGc3KWT5Ud5TP5cNdMPEece-EWuwk",authDomain:"jamuy-ab9c5.firebaseapp.com",databaseURL:"https://jamuy-ab9c5-default-rtdb.firebaseio.com",projectId:"jamuy-ab9c5",storageBucket:"jamuy-ab9c5.appspot.com",messagingSenderId:"663307726242",appId:"1:663307726242:web:1782b82871ed91731a56fb",measurementId:"G-V3QCHXVVFK"};sr["a"].initializeApp(ur),lr.config.globalProperties.fcm=sr["a"].messaging(),window.axios=n("bc3a"),window.axios.interceptors.request.use((function(e){var t=dr.getters.Whattoken;return t&&(e.headers.Authorization=t),e})),window.axios.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded",window.axios.defaults.headers.common["Access-Control-Allow-Origin"]="*",Qo.beforeEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"login"!==t.name&&"registro"!==t.name||!dr.getters.loggedIn||o({path:"/tabs/"}),t.matched.some((function(e){return e.meta.requiereAuth}))?dr.getters.loggedIn?o():o({path:"/login",query:{redirect:t.fullPath}}):o();case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}()),Qo.isReady().then((function(){lr.mount("#app")}))},e343:function(e,t,n){var o={"./ion-icon.entry.js":["2ec6","chunk-2d0be2dc"]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id="e343",e.exports=r}});
//# sourceMappingURL=app.0a7b660d.js.map